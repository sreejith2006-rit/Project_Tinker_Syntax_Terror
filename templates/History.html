<!DOCTYPE html>
<html lang="ml">
  <head>
    <meta charset="UTF-8" />
    <title>Home | KaiVismayam</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Serif:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <!-- Footer Style -->
    <style>
      footer {
        color: white;
        font-weight: 700;
        background-color: rgb(81 163 40 / var(--tw-bg-opacity, 1));
      }
    </style>
  </head>

  <body class="bg-[#f9fbf9]" style="font-family: 'Noto Serif', 'Noto Sans', sans-serif;">
    <div class="relative flex flex-col min-h-screen overflow-x-hidden">
      <!-- Header -->
      <header class="flex items-center justify-between border-b border-[#ecf1e9] px-10 py-3">
        <div class="flex items-center gap-4 text-[#131910]">
          <div class="text-xl text-black-700">
            <i class="fa-solid fa-hand"></i>
          </div>
          <h2 class="text-lg font-bold tracking-tight text-[#131910]">
            KaiVismayam
          </h2>
        </div>
        <div class="flex flex-1 justify-end gap-8">
          <nav class="flex items-center gap-9">
            <a class="text-sm font-medium text-[#131910]" href="/">Home</a>
            <a class="text-sm font-medium text-[#131910]" href="/history">History</a>
            <a class="text-sm font-medium text-[#131910]" href="/about">About</a>
          </nav>
        </div>
      </header>
        
      <!-- Upload Form -->
      <div class="p-9 max-w-4xl mx-auto w-full">
        <form
          action="/upload"
          method="POST"
          enctype="multipart/form-data"
          class="flex flex-wrap items-center gap-4 mb-10"
        >
          <input
            type="file"
            name="palmImage"
            accept="image/*"
            class="hidden"
            id="palmInput"
          />
          <button
            type="button"
            onclick="document.getElementById('palmInput').click()"
            class="flex items-center justify-center px-4 h-10 rounded-lg bg-[#51a328] text-white font-bold text-sm"
          >
            Upload Palm Image
          </button>
          <button
            type="submit"
            class="px-4 py-2 bg-[#51a328] text-white rounded-lg font-bold text-sm"
          >
            Submit
          </button>
        </form>
        
        <!-- History Section -->
        <h1 class="text-2xl font-bold text-[#131910] mb-6">üìú ‡¥™‡¥¥‡¥Ø palm prediction ‡¥ï‡¥≥‡µç</h1>
        <div class="space-y-6">
          {% for entry in entries %}
          <div class="border border-gray-300 p-5 rounded-lg shadow-sm bg-white">
            <p class="text-sm text-gray-500">{{ entry.timestamp }}</p>
            <img
              src="{{ url_for('static', filename=entry.image_filename) }}"
              alt="Palm Image"
              class="w-64 rounded-md my-2 shadow-md"
            />
            <p class="text-md font-medium text-gray-800 whitespace-pre-line">{{ entry.prediction }}</p>
          </div>
          {% endfor %}
        </div>

        <!-- Back Button -->
        <div class="mt-10 text-center">
          <a
            href="/"
            class="inline-block px-4 py-2 bg-green-600 text-white rounded font-bold"
          >
            üîô ‡¥§‡¥ø‡¥∞‡¥ø‡¥ï‡µÜ ‡¥™‡µã‡¥µ‡µÅ‡¥ï
          </a>
        </div>
      </div>

      <!-- Footer -->
      <footer class="text-center py-4 mt-auto">
        ¬© 2025 KaiVismayam. Palmistry for Fun.
      </footer>
    </div>
  </body>
</html>

